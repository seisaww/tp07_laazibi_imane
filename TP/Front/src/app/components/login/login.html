<div class="page-container d-flex justify-content-center align-items-center min-vh-100 py-4">
  <div class="card shadow-lg border-0 rounded-4 animate-fade-in" style="max-width: 400px; width: 100%;">
    
    <div class="text-center pt-4 pb-2">
      <div class="icon-circle mb-2">
        <i class="bi bi-shield-lock-fill text-success fs-2"></i>
      </div>
      <h2 class="text-success fw-bold m-0">Authentification</h2>
      <p class="text-muted small">Connectez-vous pour accéder aux fonctionnalités</p>
    </div>

    <div class="card-body p-4 pt-2">
      
      <div class="status-box mb-4 text-center">
        <span class="text-muted text-uppercase small fw-bold">Statut :</span>
        <div class="fs-5 fw-bold mt-1" [class.text-success]="connexion()" [class.text-danger]="!connexion()">
          {{ connexion() ? 'Connecté' : 'Déconnecté' }}
        </div>
      </div>

      @if (infoMessage) {
        <div class="alert alert-warning d-flex align-items-center mb-4 shadow-sm" role="alert">
          <i class="bi bi-exclamation-triangle-fill me-2 fs-5"></i>
          <div class="small fw-semibold">
            {{ infoMessage }}
          </div>
        </div>
      }
      <form [formGroup]="loginForm" (ngSubmit)="onSubmit()">
        
        <div class="mb-3">
          <label for="identifiant" class="form-label">Identifiant (Email)</label>
          <input id="identifiant" type="text" formControlName="identifiant" class="form-control rounded-pill" placeholder="Votre identifiant">
          
          @if (loginForm.get('identifiant')?.errors && loginForm.get('identifiant')?.touched) {
            <div class="text-danger small mt-1">
              L'identifiant est obligatoire.
            </div>
          }
        </div>

        <div class="mb-4">
          <label for="motDePasse" class="form-label">Mot de Passe</label>
          <input id="motDePasse" type="password" formControlName="motDePasse" class="form-control rounded-pill" placeholder="Mot de passe">
          
          @if (loginForm.get('motDePasse')?.errors && loginForm.get('motDePasse')?.touched) {
            <div class="text-danger small mt-1">
              Le mot de passe est obligatoire.
            </div>
          }
        </div>

        <div class="d-grid gap-3">
          
          <button type="submit" [disabled]="loginForm.invalid || connexion()" 
                  class="btn btn-success btn-lg rounded-pill shadow-sm">
            <i class="bi bi-box-arrow-in-right me-2"></i> Se connecter
          </button>
          
          <button type="button" (click)="logout()" [disabled]="!connexion()" 
                  class="btn btn-outline-danger btn-lg rounded-pill">
            <i class="bi bi-power me-2"></i> Déconnexion
          </button>

        </div>
      </form>

    </div>
  </div>
</div>